# [354](https://leetcode.com/problems/russian-doll-envelopes/). Russian Doll Envelopes

## Ideas

- fix one part and sort another part 
- then use binary search 

## Code 

### v0.1 

``` python
class Solution:
    def maxEnvelopes(self, envelopes: List[List[int]]) -> int:
        if not envelopes: return 0
        envelopes = self.sort(envelopes)
        height = [h for _, (_, h) in enumerate(envelopes)]
        return self.length_of_lsb(height)
        
    def sort(self, nums):
        # y[1] - x[1] b/c no equal e.g. [[4,5],[4,6],[6,7]] 
        f = lambda x, y: x[0] - y[0] if x[0] != y[0] else y[1] - x[1]
        nums.sort(key = functools.cmp_to_key(f))
        return nums
        
    def length_of_lsb(self, nums: List[int]) -> int:
        if len(nums) == 0: return 0
        increase = [max(nums)] * len(nums)
        longest = 1
        for i, num in enumerate(nums):
            insert = self.find_insert_pos(increase, num)
            increase[insert] = num
            longest = max(insert+1, longest)
        return longest
    
    def find_insert_pos(self, nums, target):
        return bisect.bisect_left(nums, target)
```

## Test 

```
[[4,5],[4,6],[6,7]]
```